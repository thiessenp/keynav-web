!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.KeynavWeb=e():t.KeynavWeb=e()}(self,(function(){return(()=>{"use strict";var t={561:(t,e,i)=>{i.r(e),i.d(e,{Hotkeys:()=>n,Keynav:()=>v});var r={keys:{},isHotkeysEnabled:!0,init:function(t){!function(t){var e=t||document;e.querySelectorAll("[data-knw-hotkey]").forEach((function(t){var i=t.dataset.knwHotkey;if(i){var n=/^alt/i.test(i),a=/^ctrl/i.test(i);if(o(n||a?i.split("+")[1]:i)){var c=e.querySelector(i);c||(c=t),r.keys[i]={triggerEl:c}}else s("Hotkeys: invalid hotkey "+i)}else s("Hotkeys: no hotkey for "+i)}))}(t),document.addEventListener("keyup",(function(t){if(r.isHotkeysEnabled&&!function(t){return/input|textarea|select/i.test(t.target.tagName)}(t)&&o(t.key)){var e="";t.altKey&&(e="alt+"),t.ctrlKey&&(e="ctrl+"),e+=t.key.toLowerCase();var i=r.keys[e];i&&(i.triggerEl?i.triggerEl.click():s("Error: no trigger element for key="+e))}}))}};const n=r;function o(t){return/[a-z]/i.test(t)}function s(t){this.isLog&&console.log("Hotkeys Error: "+t)}var a;function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=(c(a={9:"Backspace"},"9","Tab"),c(a,13,"Enter"),c(a,16,"Shift"),c(a,17,"Control"),c(a,18,"Alt"),c(a,27,"Escape"),c(a,32,"Space"),c(a,33,"PageUp"),c(a,34,"PageDown"),c(a,35,"End"),c(a,36,"Home"),c(a,37,"ArrowLeft"),c(a,38,"ArrowUp"),c(a,39,"ArrowRight"),c(a,40,"ArrowDown"),c(a,44,"PrintScreen"),c(a,45,"Insert"),c(a,46,"Delete"),c(a,48,"0"),c(a,49,"1"),c(a,50,"2"),c(a,51,"3"),c(a,52,"4"),c(a,53,"5"),c(a,54,"6"),c(a,55,"7"),c(a,56,"8"),c(a,57,"9"),c(a,65,"a"),c(a,66,"b"),c(a,67,"c"),c(a,68,"d"),c(a,69,"e"),c(a,70,"f"),c(a,71,"g"),c(a,72,"h"),c(a,73,"i"),c(a,74,"j"),c(a,75,"k"),c(a,76,"l"),c(a,77,"m"),c(a,78,"n"),c(a,79,"o"),c(a,80,"p"),c(a,81,"q"),c(a,82,"r"),c(a,83,"s"),c(a,84,"t"),c(a,85,"u"),c(a,86,"v"),c(a,87,"w"),c(a,88,"x"),c(a,89,"y"),c(a,90,"z"),c(a,186,";"),c(a,187,"+"),c(a,189,"-"),c(a,188,","),c(a,190,"."),c(a,191,"?"),c(a,219,"["),c(a,221,"]"),c(a,220,"\\"),c(a,222,'"'),a);function l(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e){var i=this,r=e.items,n=e.isAutoInit,o=void 0===n||n,s=e.activateCb,a=e.deactivateCb,c=e.focussedCb;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[],this.activateCb=function(t){if(t&&"0"!==t.getAttribute("tabindex")){var e=i.items.find((function(t){return"0"===t.getAttribute("tabindex")}));i.deactivateCb(e),t.setAttribute("tabindex","0")}},this.deactivateCb=function(t){t&&"-1"!==t.getAttribute("tabindex")&&t.setAttribute("tabindex","-1")},this.focussedCb=function(t){t&&("-1"!==t.getAttribute("tabindex")&&"0"!==t.getAttribute("tabindex")&&t.setAttribute("tabindex","-1"),t.focus())},!r||void 0===r.length)throw new Error("Error: called List constructor without items list");this.items=Array.from(r),s&&"function"==typeof s&&(this.activateCb=s),a&&"function"==typeof a&&(this.deactivateCb=a),c&&"function"==typeof c&&(this.focussedCb=c),o&&this.init()}var e,i,r;return e=t,r=[{key:"createListsFromDOM",value:function(t){var e=t.selectorList,i=t.selectorListItem,r=document.querySelectorAll(e),n=[];return r.forEach((function(t){n.push(t.querySelectorAll(i))})),n}},{key:"buildLists",value:function(e){var i=e.items,r=e.activateCb,n=e.deactivateCb;return(i=Array.from(i)).map((function(e){if(!e||void 0===e.length)throw new Error("Error: Lists addListItems received a non array like list of items in listItems");return new t({items:e=Array.from(e),activateCb:r,deactivateCb:n})}))}}],(i=[{key:"init",value:function(){this.addBehavior();var t=this.getActive()||this.getFirst();this.activateCb(t)}},{key:"addBehavior",value:function(){var t=this;this.items.forEach((function(e){e&&(e.addEventListener("keydown",(function(e){t.handleKey(e)})),e.addEventListener("click",(function(e){t.handleClick(e)})))}))}},{key:"handleKey",value:function(t){var e=function(t){return"object"!==u(t)?t:void 0===t.key&&Number.isInteger(t.which)?getKeyByWhich(t.which):t.key}(t);if(/^Arrow[Up|Down|Right|Left]|Enter|Space|Home|End|Delete/.test(e))switch(t.preventDefault(),e){case"Enter":case"Space":var i=t.target;i&&i.click();break;case"ArrowDown":case"ArrowRight":var r=this.getNext(t.target);this.focussedCb(r);break;case"ArrowUp":case"ArrowLeft":var n=this.getPrev(t.target);this.focussedCb(n);break;case"Home":var o=this.getFirst();this.focussedCb(o);break;case"End":var s=this.getLast();this.focussedCb(s);break;case"Delete":(function(t){var e=t.target,i=void 0===e?document:e,r=t.type,n=void 0===r?"keydown":r,o=t.key,s=t.which;if(void 0!==o||void 0!==s){void 0===s&&(s=function(t){if(void 0!==t){var e=Array.from(Object.values(f)).indexOf(t),i=Array.from(Object.keys(f));return i[e]?i[e]:void 0}}(o)),void 0===o&&(o=function(t){if(void 0!==t)return t=parseInt(t),Number.isInteger(t)?f[t]:void 0}(s));var a=new KeyboardEvent(n,{key:o,which:s});i.dispatchEvent(a)}})({target:t.target,type:"keydown",key:"ArrowUp"}),this.removeItem(t.target)}}},{key:"handleClick",value:function(t){this.focussedCb(t.target),this.activateCb(t.target)}},{key:"getNext",value:function(t){var e=this.items.indexOf(t);return e<0?this.items[0]:this.items[e+1]?this.items[e+1]:this.items[0]}},{key:"getPrev",value:function(t){var e=this.items.indexOf(t);return e<0?this.items[0]:this.items[e-1]?this.items[e-1]:this.items[this.items.length-1]}},{key:"getLast",value:function(){return this.items[this.items.length-1]}},{key:"getFirst",value:function(){return this.items[0]}},{key:"getActive",value:function(){return this.items.find((function(t){return"0"===t.getAttribute("tabindex")}))}},{key:"removeItem",value:function(t){var e=this.items.indexOf(t);e>-1&&this.items.splice(e,1)}}])&&l(e.prototype,i),r&&l(e,r),t}();const v={initialized:!1,lists:[],init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.initialized){var e=t.items||d.createListsFromDOM({selectorList:t.selectorList||"[data-knw-list]",selectorListItem:t.selectorListItem||"[data-knw-list-item]"});this.lists=d.buildLists({items:e,activateCb:t.activateCb,deactivateCb:t.deactivateCb,focussedCb:t.focussedCb}),this.initialized=!0}}}}},e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={exports:{}};return t[r](n,n.exports,i),n.exports}return i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(561)})()}));