!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.KeynavWeb=e():t.KeynavWeb=e()}(self,(function(){return(()=>{"use strict";var t={561:(t,e,i)=>{i.r(e),i.d(e,{Hotkeys:()=>n,Keynav:()=>u});var r={keys:{},isHotkeysEnabled:!0,init:function(t){!function(t){var e=t||document;e.querySelectorAll("[data-knw-hotkey]").forEach((function(t){var i=t.dataset.knwHotkey;if(i){var n=/^alt/i.test(i),a=/^ctrl/i.test(i);if(s(n||a?i.split("+")[1]:i)){var c=e.querySelector(i);c||(c=t),r.keys[i]={triggerEl:c}}else o("Hotkeys: invalid hotkey "+i)}else o("Hotkeys: no hotkey for "+i)}))}(t),document.addEventListener("keyup",(function(t){if(r.isHotkeysEnabled&&!function(t){return/input|textarea|select/i.test(t.target.tagName)}(t)&&s(t.key)){var e="";t.altKey&&(e="alt+"),t.ctrlKey&&(e="ctrl+"),e+=t.key.toLowerCase();var i=r.keys[e];i&&(i.triggerEl?i.triggerEl.click():o("Error: no trigger element for key="+e))}}))}};const n=r;function s(t){return/[a-z]/i.test(t)}function o(t){this.isLog&&console.log("Hotkeys Error: "+t)}function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){var i=this,r=e.items,n=e.isAutoInit,s=void 0===n||n,o=e.activateCb,a=e.deactivateCb,c=e.focussedCb;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[],this.activateCb=function(t){if(t&&"0"!==t.getAttribute("tabindex")){var e=i.items.find((function(t){return"0"===t.getAttribute("tabindex")}));i.deactivateCb(e),t.setAttribute("tabindex","0")}},this.deactivateCb=function(t){t&&"-1"!==t.getAttribute("tabindex")&&t.setAttribute("tabindex","-1")},this.focussedCb=function(t){t&&("-1"!==t.getAttribute("tabindex")&&"0"!==t.getAttribute("tabindex")&&t.setAttribute("tabindex","-1"),t.focus())},!r||void 0===r.length)throw new Error("Error: called List constructor without items list");this.items=Array.from(r),o&&"function"==typeof o&&(this.activateCb=o),a&&"function"==typeof a&&(this.deactivateCb=a),c&&"function"==typeof c&&(this.focussedCb=c),s&&this.init()}var e,i,r;return e=t,r=[{key:"createListsFromDOM",value:function(t){var e=t.selectorList,i=t.selectorListItem,r=document.querySelectorAll(e),n=[];return r.forEach((function(t){n.push(t.querySelectorAll(i))})),n}},{key:"buildLists",value:function(e){var i=e.items,r=e.activateCb,n=e.deactivateCb;return(i=Array.from(i)).map((function(e){if(!e||void 0===e.length)throw new Error("Error: Lists addListItems received a non array like list of items in listItems");return new t({items:e=Array.from(e),activateCb:r,deactivateCb:n})}))}}],(i=[{key:"init",value:function(){this.addBehavior();var t=this.getActive()||this.getFirst();this.activateCb(t)}},{key:"addBehavior",value:function(){var t=this;this.items.forEach((function(e){e&&(e.addEventListener("keydown",(function(e){t.handleKey(e)})),e.addEventListener("click",(function(e){t.handleClick(e)})))}))}},{key:"handleKey",value:function(t){var e=function(t){var e=t.code||t.key||t.keyCode;if(e)return function(t){return"Esc"===t||"Escape"===t||27===t?"Escape":"Enter"===t||13===t?"Enter":" "===t||"Space"===t||32===t?"Space":"ArrowUp"===t||"Up"===t||38===t?"ArrowUp":"ArrowDown"===t||"Down"===t||40===t?"ArrowDown":"ArrowLeft"===t||"Left"===t||37===t?"ArrowLeft":"ArrowRight"===t||"Right"===t||39===t?"ArrowRight":"Delete"===t||"Delete"===t||46===t?"Delete":"End"===t||"End"===t||35===t?"End":"Home"===t||"Home"===t||36===t?"Home":void 0}(e)}(t);if(/^Arrow[Up|Down|Right|Left]|Enter|Space|Home|End|Delete/.test(e))switch(t.preventDefault(),e){case"Enter":case"Space":var i=t.target;i&&i.click();break;case"ArrowDown":case"ArrowRight":var r=this.getNext(t.target);this.focussedCb(r);break;case"ArrowUp":case"ArrowLeft":var n=this.getPrev(t.target);this.focussedCb(n);break;case"Home":var s=this.getFirst();this.focussedCb(s);break;case"End":var o=this.getLast();this.focussedCb(o);break;case"Delete":var a=new KeyboardEvent("keydown",{key:"ArrowUp",code:"ArrowUp",which:38});t.target.dispatchEvent(a),this.removeItem(t.target)}}},{key:"handleClick",value:function(t){this.focussedCb(t.target),this.activateCb(t.target)}},{key:"getNext",value:function(t){var e=this.items.indexOf(t);return e<0?this.items[0]:this.items[e+1]?this.items[e+1]:this.items[0]}},{key:"getPrev",value:function(t){var e=this.items.indexOf(t);return e<0?this.items[0]:this.items[e-1]?this.items[e-1]:this.items[this.items.length-1]}},{key:"getLast",value:function(){return this.items[this.items.length-1]}},{key:"getFirst",value:function(){return this.items[0]}},{key:"getActive",value:function(){return this.items.find((function(t){return"0"===t.getAttribute("tabindex")}))}},{key:"removeItem",value:function(t){var e=this.items.indexOf(t);e>-1&&this.items.splice(e,1)}}])&&a(e.prototype,i),r&&a(e,r),t}();const u={initialized:!1,lists:[],init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.initialized){var e=t.items||c.createListsFromDOM({selectorList:t.selectorList||"[data-knw-list]",selectorListItem:t.selectorListItem||"[data-knw-list-item]"});this.lists=c.buildLists({items:e,activateCb:t.activateCb,deactivateCb:t.deactivateCb,focussedCb:t.focussedCb}),this.initialized=!0}}}}},e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={exports:{}};return t[r](n,n.exports,i),n.exports}return i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(561)})()}));